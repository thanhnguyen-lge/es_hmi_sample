# Chart Sample App Unit Test ì •ì±… ğŸ“‹

## ğŸ¯ ëª©ì 
task ëë‚  ë•Œë§ˆë‹¤ ì²´ê³„ì ì¸ unit testë¥¼ í†µí•´ ì½”ë“œ í’ˆì§ˆì„ ë³´ì¥í•˜ê³  íšŒê·€ ë²„ê·¸ë¥¼ ë°©ì§€í•œë‹¤.

## ğŸ§ª í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
- **Flutter Test**: ê¸°ë³¸ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
- **flutter_test**: ìœ„ì ¯ í…ŒìŠ¤íŠ¸ìš© íŒ¨í‚¤ì§€
- **mockito**: ì˜ì¡´ì„± ëª¨í‚¹ìš© íŒ¨í‚¤ì§€
- **provider/test**: Provider ìƒíƒœ í…ŒìŠ¤íŠ¸ìš©

## ğŸ“Š í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ
- **ì „ì²´ ì½”ë“œ ì»¤ë²„ë¦¬ì§€**: ìµœì†Œ 80%
- **í•µì‹¬ ë¡œì§ ì»¤ë²„ë¦¬ì§€**: ìµœì†Œ 95%
  - Models (`lib/models/`)
  - Providers (`lib/providers/`)
  - Utils (`lib/utils/`)
- **UI ìœ„ì ¯ ì»¤ë²„ë¦¬ì§€**: ìµœì†Œ 70%
  - Widgets (`lib/widgets/`)

## ğŸ”„ TDD ì›Œí¬í”Œë¡œìš°

### ê° Task ì™„ë£Œ ì‹œ í•„ìˆ˜ ì ˆì°¨:
1. **ğŸ“ í…ŒìŠ¤íŠ¸ ì‘ì„±** (Red Phase)
   - ìƒˆë¡œ ì¶”ê°€ëœ ê¸°ëŠ¥ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì‘ì„±
   - ê¸°ì¡´ ê¸°ëŠ¥ ìˆ˜ì • ì‹œ ê´€ë ¨ í…ŒìŠ¤íŠ¸ ì—…ë°ì´íŠ¸

2. **ğŸ”§ êµ¬í˜„** (Green Phase)
   - í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ìµœì†Œí•œì˜ ì½”ë“œ ì‘ì„±
   - ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ëŠ”ì§€ í™•ì¸

3. **âœ¨ ë¦¬íŒ©í† ë§** (Refactor Phase)
   - ì½”ë“œ í’ˆì§ˆ ê°œì„ 
   - í…ŒìŠ¤íŠ¸ê°€ ì—¬ì „íˆ í†µê³¼í•˜ëŠ”ì§€ í™•ì¸

4. **ğŸ“ˆ ì»¤ë²„ë¦¬ì§€ ê²€ì¦**
   - `flutter test --coverage` ì‹¤í–‰
   - ëª©í‘œ ì»¤ë²„ë¦¬ì§€ ë‹¬ì„± í™•ì¸

5. **âœ… ìµœì¢… ê²€ì¦**
   - ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸
   - ì„±ëŠ¥ ì´ìŠˆ ì—†ëŠ”ì§€ í™•ì¸

## ğŸ“ í…ŒìŠ¤íŠ¸ íŒŒì¼ êµ¬ì¡°
```
test/
â”œâ”€â”€ models/                 # ë°ì´í„° ëª¨ë¸ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ chart_data_models_test.dart
â”‚   â””â”€â”€ chart_data_helper_test.dart
â”œâ”€â”€ providers/              # ìƒíƒœ ê´€ë¦¬ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ chart_provider_test.dart
â”‚   â””â”€â”€ chart_provider_test_v2.dart
â”œâ”€â”€ widgets/                # ìœ„ì ¯ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ chart_area_test.dart
â”‚   â””â”€â”€ control_panel_test.dart
â”œâ”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸
â””â”€â”€ integration/            # í†µí•© í…ŒìŠ¤íŠ¸
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ìœ í˜•ë³„ ê¸°ì¤€

### 1. Unit Tests (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)
- **ëª¨ë“  public ë©”ì„œë“œ** í…ŒìŠ¤íŠ¸
- **ê²½ê³„ê°’ í…ŒìŠ¤íŠ¸** (null, empty, edge cases)
- **ì—ëŸ¬ ì¼€ì´ìŠ¤** í…ŒìŠ¤íŠ¸
- **ìƒíƒœ ë³€í™”** í…ŒìŠ¤íŠ¸

### 2. Widget Tests (ìœ„ì ¯ í…ŒìŠ¤íŠ¸)
- **ë Œë”ë§** í…ŒìŠ¤íŠ¸
- **ì‚¬ìš©ì ìƒí˜¸ì‘ìš©** í…ŒìŠ¤íŠ¸
- **ìƒíƒœ ë³€í™”ì— ë”°ë¥¸ UI ì—…ë°ì´íŠ¸** í…ŒìŠ¤íŠ¸

### 3. Provider Tests (ìƒíƒœ ê´€ë¦¬ í…ŒìŠ¤íŠ¸)
- **ì´ˆê¸° ìƒíƒœ** ê²€ì¦
- **ìƒíƒœ ë³€í™”** í…ŒìŠ¤íŠ¸
- **notify** í˜¸ì¶œ ê²€ì¦
- **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§** í…ŒìŠ¤íŠ¸

## ğŸ›  í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹ì–´

### ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
flutter test
```

### ì»¤ë²„ë¦¬ì§€ í¬í•¨ í…ŒìŠ¤íŠ¸
```bash
flutter test --coverage
```

### íŠ¹ì • íŒŒì¼ í…ŒìŠ¤íŠ¸
```bash
flutter test test/providers/chart_provider_test.dart
```

### íŠ¹ì • íŒ¨í„´ í…ŒìŠ¤íŠ¸
```bash
flutter test test/models/
```

## ğŸ“‹ Task ì™„ë£Œ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… í•„ìˆ˜ ì²´í¬ í•­ëª©:
- [ ] ìƒˆë¡œìš´ ê¸°ëŠ¥ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì‘ì„± ì™„ë£Œ
- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ (`flutter test`)
- [ ] ì»¤ë²„ë¦¬ì§€ ëª©í‘œ ë‹¬ì„± í™•ì¸
- [ ] ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì˜í–¥ë„ í™•ì¸
- [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ ë¦¬ë·° ì™„ë£Œ

### ğŸ¯ í’ˆì§ˆ ê¸°ì¤€:
- [ ] í…ŒìŠ¤íŠ¸ ì´ë¦„ì´ ëª…í™•í•˜ê³  ì˜ë¯¸ìˆìŒ
- [ ] ê° í…ŒìŠ¤íŠ¸ê°€ ë‹¨ì¼ ê¸°ëŠ¥ë§Œ ê²€ì¦
- [ ] Mock ì‚¬ìš©ì´ ì ì ˆí•¨
- [ ] í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì†ë„ê°€ í•©ë¦¬ì ì„

## ğŸ”§ CI/CD í†µí•©

### GitHub Actions (í–¥í›„ ì„¤ì •)
```yaml
- name: Run Tests
  run: flutter test --coverage
  
- name: Check Coverage
  run: |
    if [ $(lcov --summary coverage/lcov.info | grep -o 'lines......[0-9.]*%' | grep -o '[0-9.]*' | head -1 | cut -d. -f1) -lt 80 ]; then
      echo "Coverage below 80%"
      exit 1
    fi
```

## ğŸ“š ëª¨ë²” ì‚¬ë¡€

### ì¢‹ì€ í…ŒìŠ¤íŠ¸ ì‘ì„±ë²•:
1. **AAA íŒ¨í„´** ì‚¬ìš© (Arrange, Act, Assert)
2. **ì˜ë¯¸ìˆëŠ” í…ŒìŠ¤íŠ¸ ì´ë¦„** ì‚¬ìš©
3. **í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ëŠ” í•˜ë‚˜ì˜ assertion**
4. **ë…ë¦½ì ì¸ í…ŒìŠ¤íŠ¸** (ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ)
5. **ë°˜ë³µ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸** (ë§¤ë²ˆ ê°™ì€ ê²°ê³¼)

### í…ŒìŠ¤íŠ¸ ì´ë¦„ ê·œì¹™:
```dart
test('should return valid chart data when provider is initialized')
test('should throw exception when invalid data is provided')
test('should update UI when chart type is changed')
```

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. **í˜„ì¬ ê¹¨ì§„ í…ŒìŠ¤íŠ¸ ìˆ˜ì •** âœ… (ì§„í–‰ ì¤‘)
2. **ìœ„ì ¯ í…ŒìŠ¤íŠ¸ ì¶”ê°€**
3. **í†µí•© í…ŒìŠ¤íŠ¸ ì¶”ê°€**
4. **ì»¤ë²„ë¦¬ì§€ ë„êµ¬ ì„¤ì •**
5. **ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±**

---
*Last Updated: 2025ë…„ 10ì›” 2ì¼*
*Version: 1.0*